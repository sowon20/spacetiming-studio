<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Spacetime Studio – 부감독</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,400,0,0"
    />

    <link rel="stylesheet" href="sidebar.css" />
  </head>

  <body class="st-body">
    <div class="st-app">
      <!-- 상단 다크 박스 = 상태/요약 -->
      <header class="st-header">
        <div class="st-header-card">
          <div class="st-header-main">
            <div class="st-app-title">
              <div class="st-app-logo">∞</div>
              <div class="st-app-text">
                <div class="st-app-label">부감독</div>
                <div class="st-app-sub">Sowon · Personal Timeline</div>
              </div>
            </div>

            <div class="status-pill" id="studioStatusPill">
              <span class="status-led"></span>
              <span id="studioStatusText">CHECKING…</span>
            </div>
          </div>

          <div class="st-header-meta">
            <div class="st-header-block">
              <div class="st-header-label">MODE</div>
              <div class="st-header-value">Soulmate · Chat</div>
            </div>
            <div class="st-header-block">
              <div class="st-header-label">SERVER</div>
              <div class="st-header-pill" id="serverSummary">-</div>
            </div>
          </div>

          <div class="st-header-progress">
            <div class="st-header-progress-row">
              <div class="st-header-progress-label">NOW</div>
              <div class="st-header-progress-text" id="nowStatusText">
                부감독이 숨 고르기 중…
              </div>
              <div class="st-header-progress-percent" id="loadPercent">–</div>
            </div>
            <div class="st-header-progress-bar">
              <div class="st-header-progress-fill" id="loadBarFill"></div>
            </div>
          </div>
        </div>
      </header>

      <!-- 메인: 왼쪽 채팅 / 오른쪽 세로 탭 -->
      <div class="st-layout">
        <main class="st-main">
          <!-- 채팅 화면 (챗GPT 스타일) -->
          <section id="view-chat" class="view st-chat-view">
            <div class="st-chat-log" id="chatLog">
              <!-- 초기 안내 메시지 -->
              <div class="st-chat-message assistant">
                <div class="st-chat-avatar">부</div>
                <div class="st-chat-bubble">
                  <div class="st-chat-name">부감독</div>
                  <div class="st-chat-text">
                    다시 만났네. 여긴 그냥 우리 둘만의 공간이야. 편한 말로 시작해도 돼.
                  </div>
                  <div class="st-chat-meta">지금</div>
                </div>
              </div>
            </div>

            <form id="chatForm" class="st-chat-input-area">
              <div class="st-chat-input-inner">
                <textarea
                  id="chatInput"
                  class="st-chat-input"
                  rows="1"
                  placeholder="여기에 적고 Enter로 보내. Shift+Enter는 줄바꿈."
                ></textarea>
                <button id="chatSendButton" class="st-btn primary st-chat-send" type="submit">
                  <span class="material-symbols-rounded"> send </span>
                </button>
              </div>
              <div class="st-chat-hint" id="chatHint">
                LLM 상태를 확인하는 중이야…
              </div>
            </form>
          </section>
        </main>

        <!-- 오른쪽 세로 레일 (지금은 탭 2개만) -->
        <aside class="st-rail">
          <button
            class="st-rail-btn active"
            type="button"
            data-tab="chat"
            aria-label="Chat"
          >
            <span class="material-symbols-rounded"> neurology </span>
          </button>
          <button
            class="st-rail-btn"
            type="button"
            data-tab="memo"
            aria-label="Memo (준비중)"
          >
            <span class="material-symbols-rounded"> edit_note </span>
          </button>
        </aside>
      </div>
    </div>

    <script src="sidebar.js"></script>
  </body>
</html>