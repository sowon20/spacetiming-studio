{
  "description": "시공간 스튜디오 부감독 기억 시스템 개요",
  "layers": {
    "core_soul": {
      "path": "akashic/soul/*.soul",
      "usage": "소원과 부감독의 정체성, 말투, 관계, 일하는 방식 같은 고정 프로필을 저장한다. LLM system 프롬프트에 항상 포함한다."
    },
    "timeline": {
      "path": "akashic/timeline/*.json",
      "usage": "인생/프로젝트의 중요한 사건, 전환점, 챕터를 기록한다. 나중에 비슷한 상황을 떠올리거나 맥락 설명할 때 참고한다."
    },
    "recent_chat": {
      "path": "portal_history/sowon.chat.jsonl",
      "usage": "실제 대화 로그 전체. LLM에는 최근 N개만 컨텍스트로 넣고, 파일은 계속 축적한다. 1층 raw 로그 레이어."
    },
    "episodic_memory": {
      "path": "memory/*.memory.jsonl",
      "usage": "불탄방/옛 대화/프로젝트/삶의 순간들에서 뽑은 '기억 조각'들을 저장한다. topic/triggers/summary 같은 메타데이터를 포함하고, 지금 대화 주제와 겹칠 때만 LLM 프롬프트에 포함한다. 2층 에피소드 기억 레이어."
    },
    "archive_chat": {
      "path": "akashic/raw/imports/*.txt",
      "usage": "옛 채팅방/실험 로그 원문을 그대로 보존한다. LLM에 직접 넣지 않고, 사람이 필요할 때 참고하거나, 중요한 부분을 episodic_memory 레이어로 옮길 때 출처로 사용한다."
    }
  },
  "notes": [
    "불탄 채팅방, 라즈베리 부감독 1호기 같은 큰 사건은 timeline_event로 남긴다.",
    "소원/부감독의 성격, 원칙은 .soul에만 적고 코드에서 불러온다.",
    "A/B/C(생계/프로젝트/회복)는 우선순위 대화할 때만 사용하고, 평소 대화는 자유롭게 흐르게 둔다.",
    "부감독의 말투와 정책을 바꾸는 아이디어는 config_updates나 persona_reflect 스크립트로 다루고, 실제 모델 학습이 아니라 .soul과 설정 레이어를 통해 서서히 조정한다."
  ]
}